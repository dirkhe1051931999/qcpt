---
title: JCTooltipEllipsis 省略号提示
description: 自动检测文本溢出并显示提示的组件
---

import DemoPanel from '@components/DemoPanel/DemoPanel.astro';
import JCTooltipEllipsisDemo from '@components/DemoPanel/JCTooltipEllipsisDemo.vue';

[查看源码](https://github.com/dirkhe1051931999/qcpt/blob/dev/src/components/j-c-tooltip-ellipsis)

<DemoPanel title="JCTooltipEllipsis 组件演示">
<div slot="content">

# JCTooltipEllipsis 省略号提示

自动检测文本溢出并显示提示的组件，支持单行和多行省略。

## 基础用法

```vue
<template>
  <j-c-tooltip-ellipsis 
    content="这是一段很长的文本，超出容器宽度时会显示省略号，鼠标悬停可查看完整内容"
    style="width: 200px;"
  />
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## 单行省略

默认单行省略（`lines` 为 1）：

```vue
<template>
  <j-c-tooltip-ellipsis 
    content="这是一段很长的文本，超出容器宽度时会显示省略号"
    style="width: 200px;"
    :lines="1"
  />
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## 多行省略

设置 `lines` 大于 1 可支持多行省略：

```vue
<template>
  <j-c-tooltip-ellipsis 
    content="这是一段很长的文本，超出容器宽度时会显示省略号。支持多行显示，最多显示指定的行数，超出部分会显示省略号。"
    style="width: 200px;"
    :lines="2"
  />
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## 自定义内容

使用插槽自定义显示内容：

```vue
<template>
  <j-c-tooltip-ellipsis 
    style="width: 200px;"
    :lines="2"
  >
    这是一段很长的文本，超出容器宽度时会显示省略号。支持多行显示，最多显示指定的行数，超出部分会显示省略号。
  </j-c-tooltip-ellipsis>
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## 自定义提示位置和主题

```vue
<template>
  <j-c-tooltip-ellipsis 
    content="这是一段很长的文本"
    style="width: 200px;"
    placement="bottom"
    effect="light"
    max-width="300px"
  />
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## 自动检测溢出

组件会自动检测文本是否溢出，只有在溢出时才显示 tooltip：

```vue
<template>
  <div>
    <!-- 文本未溢出，不显示 tooltip -->
    <j-c-tooltip-ellipsis 
      content="短文本"
      style="width: 200px;"
    />
    
    <!-- 文本溢出，显示 tooltip -->
    <j-c-tooltip-ellipsis 
      content="这是一段很长的文本，超出容器宽度时会显示省略号"
      style="width: 200px;"
    />
  </div>
</template>

<script setup lang="ts">
import { JCTooltipEllipsis } from 'qcpt'
</script>
```

## API

### Props

| 属性名 | 类型 | 默认值 | 描述 |
| --- | --- | --- | --- |
| `content` | `string` | `''` | 文本内容 |
| `contentStyle` | `string` | `''` | 内容样式 |
| `lines` | `number` | `1` | 省略行数（1为单行省略，>1为多行省略） |
| `placement` | `TooltipPlacement` | `'top'` | Tooltip 位置 |
| `effect` | `'dark' \| 'light'` | `'dark'` | Tooltip 效果 |
| `maxWidth` | `string` | `'300px'` | Tooltip 最大宽度 |
| `offset` | `number` | `12` | Tooltip 偏移距离 |

### Slots

| 插槽名 | 描述 |
| --- | --- |
| `default` | 用于自定义内容 |

## 注意事项

1. **自动检测**：组件会自动检测文本是否溢出，只有在溢出时才显示 tooltip
2. **单行省略**：lines 为 1 时使用单行省略，超出宽度显示省略号
3. **多行省略**：lines 大于 1 时使用多行省略，超出指定行数显示省略号
4. **性能优化**：只有在鼠标悬停时才检测溢出，避免频繁计算
5. **实际应用**：常用于表格、列表等场景，自动处理文本溢出

</div>
<JCTooltipEllipsisDemo slot="demo" client:only="vue" />
</DemoPanel>
