<template>
  <div class="demo-wrapper">
    <div class="demo-examples">
      <div class="demo-section">
        <h4>åŸºç¡€ç”¨æ³•</h4>
        <p class="demo-hint">æœ€ç®€å•çš„æ ‡ç­¾é¡µç”¨æ³•ï¼Œä½¿ç”¨ v-model ç»‘å®šå½“å‰æ¿€æ´»çš„æ ‡ç­¾å€¼ã€‚</p>
        <JCTabs v-model="basicActiveTab" :options="basicOptions">
          <div v-if="basicActiveTab === 'tab1'" class="demo-tab-content">
            <p>è¿™æ˜¯æ ‡ç­¾é¡µ 1 çš„å†…å®¹</p>
          </div>
          <div v-if="basicActiveTab === 'tab2'" class="demo-tab-content">
            <p>è¿™æ˜¯æ ‡ç­¾é¡µ 2 çš„å†…å®¹</p>
          </div>
          <div v-if="basicActiveTab === 'tab3'" class="demo-tab-content">
            <p>è¿™æ˜¯æ ‡ç­¾é¡µ 3 çš„å†…å®¹</p>
          </div>
        </JCTabs>
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ basicActiveTab || '(ç©º)' }}</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>æ ·å¼å˜ä½“</h4>
        <p class="demo-hint">æ”¯æŒä¸‰ç§æ ·å¼ï¼šdefaultï¼ˆé»˜è®¤ï¼‰ã€flatï¼ˆæ‰å¹³ï¼‰ã€lineï¼ˆçº¿æ¡ï¼‰ã€‚</p>
        <div style="margin-bottom: 24px;">
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>default æ ·å¼:</strong></p>
          <JCTabs v-model="variantActiveTab1" :options="variantOptions" variant="default" />
        </div>
        <div style="margin-bottom: 24px;">
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>flat æ ·å¼:</strong></p>
          <JCTabs v-model="variantActiveTab2" :options="variantOptions" variant="flat" />
        </div>
        <div>
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>line æ ·å¼:</strong></p>
          <JCTabs v-model="variantActiveTab3" :options="variantOptions" variant="line" />
        </div>
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ variantActiveTab1 || '(ç©º)' }}</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>ç¦ç”¨æ ‡ç­¾</h4>
        <p class="demo-hint">å¯ä»¥ç¦ç”¨æ•´ä¸ªç»„ä»¶ï¼ˆdisableï¼‰æˆ–å•ä¸ªæ ‡ç­¾ï¼ˆåœ¨ options ä¸­è®¾ç½® disable: trueï¼‰ã€‚</p>
        <div style="margin-bottom: 24px;">
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>ç¦ç”¨å•ä¸ªæ ‡ç­¾:</strong></p>
          <JCTabs v-model="disabledActiveTab1" :options="disabledOptions1" />
        </div>
        <div>
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>ç¦ç”¨æ•´ä¸ªç»„ä»¶:</strong></p>
          <JCTabs v-model="disabledActiveTab2" :options="disabledOptions2" :disable="true" />
        </div>
        <div class="demo-value">
          <p><strong>å•ä¸ªç¦ç”¨å½“å‰å€¼:</strong> {{ disabledActiveTab1 || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>æ•´ä¸ªç¦ç”¨å½“å‰å€¼:</strong> {{ disabledActiveTab2 || '(ç©º)' }}</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>æ¢è¡Œæ˜¾ç¤º</h4>
        <p class="demo-hint">ä½¿ç”¨ wrap å±æ€§å…è®¸æ ‡ç­¾æ¢è¡Œï¼Œé€‚åˆæ ‡ç­¾æ•°é‡è¾ƒå¤šçš„æƒ…å†µã€‚</p>
        <JCTabs v-model="wrapActiveTab" :options="wrapOptions" wrap />
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ wrapActiveTab || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>æç¤º:</strong> å½“æ ‡ç­¾è¿‡å¤šæ—¶ä¼šè‡ªåŠ¨æ¢è¡Œæ˜¾ç¤º</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>ç­‰åˆ†æ‰©å±•</h4>
        <p class="demo-hint">ä½¿ç”¨ expand å±æ€§è®©æ ‡ç­¾ç­‰åˆ†é“ºæ»¡å®¹å™¨å®½åº¦ã€‚</p>
        <JCTabs v-model="expandActiveTab" :options="expandOptions" expand />
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ expandActiveTab || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>æç¤º:</strong> æ¯ä¸ªæ ‡ç­¾ç­‰åˆ†å®¹å™¨å®½åº¦</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>æ ‡ç­¾å®½åº¦é™åˆ¶</h4>
        <p class="demo-hint">é€šè¿‡ itemMaxWidth è®¾ç½®æ‰€æœ‰æ ‡ç­¾çš„æœ€å¤§å®½åº¦ï¼Œæˆ–é€šè¿‡å•ä¸ªé€‰é¡¹çš„ maxWidth è®¾ç½®ç‰¹å®šæ ‡ç­¾çš„å®½åº¦ã€‚è¶…å‡ºæ—¶æ˜¾ç¤ºçœç•¥å·å’Œ tooltipã€‚</p>
        <div style="margin-bottom: 24px;">
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>å…¨å±€å®½åº¦é™åˆ¶ (itemMaxWidth):</strong></p>
          <JCTabs v-model="maxWidthActiveTab1" :options="maxWidthOptions1" item-max-width="120px" />
        </div>
        <div>
          <p style="margin-bottom: 8px; font-size: 13px; color: var(--sl-color-text-accent);"><strong>å•ä¸ªæ ‡ç­¾å®½åº¦é™åˆ¶ (maxWidth):</strong></p>
          <JCTabs v-model="maxWidthActiveTab2" :options="maxWidthOptions2" />
        </div>
        <div class="demo-value">
          <p><strong>æç¤º:</strong> é¼ æ ‡æ‚¬åœåœ¨çœç•¥çš„æ ‡ç­¾ä¸Šå¯æŸ¥çœ‹å®Œæ•´å†…å®¹</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹</h4>
        <p class="demo-hint">ä½¿ç”¨ item æ’æ§½è‡ªå®šä¹‰æ‰€æœ‰æ ‡ç­¾çš„å†…å®¹ï¼Œæˆ–ä½¿ç”¨ item-{value} æ’æ§½è‡ªå®šä¹‰ç‰¹å®šæ ‡ç­¾çš„å†…å®¹ã€‚</p>
        <JCTabs v-model="slotActiveTab" :options="slotOptions">
          <template #item="{ item, active }">
            <span :style="{ color: active ? '#1976d2' : '#666', fontWeight: active ? '600' : '400' }">
              {{ item.label }}
            </span>
          </template>
          
          <template #item-tab1="{ item, active }">
            <span style="margin-right: 4px;">ğŸ </span>
            <span :style="{ color: active ? '#1976d2' : '#666' }">{{ item.label }}</span>
          </template>
        </JCTabs>
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ slotActiveTab || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>æç¤º:</strong> ç¬¬ä¸€ä¸ªæ ‡ç­¾ä½¿ç”¨äº†è‡ªå®šä¹‰å›¾æ ‡</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>ç›‘å¬å€¼å˜åŒ–</h4>
        <p class="demo-hint">ç›‘å¬ change äº‹ä»¶è·å–æ ‡ç­¾åˆ‡æ¢ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°æŸ¥çœ‹è¾“å‡ºã€‚</p>
        <JCTabs v-model="changeActiveTab" :options="changeOptions" @change="handleChange" />
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ changeActiveTab || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>åˆ‡æ¢æ¬¡æ•°:</strong> {{ changeCount }}</p>
          <p style="margin-top: 4px; font-size: 12px; color: #999;">æç¤ºï¼šæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ change äº‹ä»¶è¾“å‡º</p>
        </div>
      </div>

      <div class="demo-section">
        <h4>å®Œæ•´ç¤ºä¾‹ï¼ˆè®¾ç½®é¡µé¢ï¼‰</h4>
        <p class="demo-hint">ç»¼åˆä½¿ç”¨å„ç§åŠŸèƒ½ï¼Œå±•ç¤ºä¸€ä¸ªå®Œæ•´çš„è®¾ç½®é¡µé¢æ ‡ç­¾åˆ‡æ¢ã€‚</p>
        <JCTabs v-model="completeActiveTab" :options="completeOptions" variant="line" expand>
          <div v-if="completeActiveTab === 'general'" class="demo-tab-content">
            <h5>é€šç”¨è®¾ç½®</h5>
            <p>è¿™é‡Œæ˜¯é€šç”¨è®¾ç½®çš„å†…å®¹...</p>
          </div>
          <div v-if="completeActiveTab === 'account'" class="demo-tab-content">
            <h5>è´¦æˆ·è®¾ç½®</h5>
            <p>è¿™é‡Œæ˜¯è´¦æˆ·è®¾ç½®çš„å†…å®¹...</p>
          </div>
          <div v-if="completeActiveTab === 'security'" class="demo-tab-content">
            <h5>å®‰å…¨è®¾ç½®</h5>
            <p>è¿™é‡Œæ˜¯å®‰å…¨è®¾ç½®çš„å†…å®¹...</p>
          </div>
          <div v-if="completeActiveTab === 'privacy'" class="demo-tab-content">
            <h5>éšç§è®¾ç½®</h5>
            <p>è¿™é‡Œæ˜¯éšç§è®¾ç½®çš„å†…å®¹...</p>
          </div>
        </JCTabs>
        <div class="demo-value">
          <p><strong>å½“å‰æ¿€æ´»çš„æ ‡ç­¾:</strong> {{ completeActiveTab || '(ç©º)' }}</p>
          <p style="margin-top: 4px;"><strong>åŠŸèƒ½:</strong> line æ ·å¼ã€ç­‰åˆ†æ‰©å±•ã€å†…å®¹åˆ‡æ¢</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { JCTabs } from 'qcpt';
import type { TabOption } from 'qcpt';

// åŸºç¡€ç”¨æ³•
const basicActiveTab = ref<string | number | null>('tab1');
const basicOptions: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' }
];

// æ ·å¼å˜ä½“
const variantActiveTab1 = ref<string | number | null>('tab1');
const variantActiveTab2 = ref<string | number | null>('tab1');
const variantActiveTab3 = ref<string | number | null>('tab1');
const variantOptions: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' }
];

// ç¦ç”¨æ ‡ç­¾
const disabledActiveTab1 = ref<string | number | null>('tab1');
const disabledOptions1: TabOption[] = [
  { label: 'å¯ç”¨æ ‡ç­¾1', value: 'tab1' },
  { label: 'ç¦ç”¨æ ‡ç­¾', value: 'tab2', disable: true },
  { label: 'å¯ç”¨æ ‡ç­¾2', value: 'tab3' }
];

const disabledActiveTab2 = ref<string | number | null>('tab1');
const disabledOptions2: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' }
];

// æ¢è¡Œæ˜¾ç¤º
const wrapActiveTab = ref<string | number | null>('tab1');
const wrapOptions: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' },
  { label: 'æ ‡ç­¾4', value: 'tab4' },
  { label: 'æ ‡ç­¾5', value: 'tab5' },
  { label: 'æ ‡ç­¾6', value: 'tab6' },
  { label: 'æ ‡ç­¾7', value: 'tab7' },
  { label: 'æ ‡ç­¾8', value: 'tab8' }
];

// ç­‰åˆ†æ‰©å±•
const expandActiveTab = ref<string | number | null>('tab1');
const expandOptions: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' }
];

// æ ‡ç­¾å®½åº¦é™åˆ¶
const maxWidthActiveTab1 = ref<string | number | null>('tab1');
const maxWidthOptions1: TabOption[] = [
  { label: 'å¾ˆé•¿çš„æ ‡ç­¾åç§°1', value: 'tab1' },
  { label: 'å¾ˆé•¿çš„æ ‡ç­¾åç§°2', value: 'tab2' },
  { label: 'å¾ˆé•¿çš„æ ‡ç­¾åç§°3', value: 'tab3' }
];

const maxWidthActiveTab2 = ref<string | number | null>('tab1');
const maxWidthOptions2: TabOption[] = [
  { label: 'æ­£å¸¸æ ‡ç­¾', value: 'tab1' },
  { label: 'å¾ˆé•¿çš„æ ‡ç­¾åç§°ï¼Œè¶…å‡ºæœ€å¤§å®½åº¦ä¼šæ˜¾ç¤ºçœç•¥å·', value: 'tab2', maxWidth: '100px' },
  { label: 'å¦ä¸€ä¸ªæ­£å¸¸æ ‡ç­¾', value: 'tab3' }
];

// è‡ªå®šä¹‰æ ‡ç­¾å†…å®¹
const slotActiveTab = ref<string | number | null>('tab1');
const slotOptions: TabOption[] = [
  { label: 'é¦–é¡µ', value: 'tab1' },
  { label: 'è®¾ç½®', value: 'tab2' },
  { label: 'å…³äº', value: 'tab3' }
];

// ç›‘å¬å€¼å˜åŒ–
const changeActiveTab = ref<string | number | null>('tab1');
const changeCount = ref(0);
const changeOptions: TabOption[] = [
  { label: 'æ ‡ç­¾1', value: 'tab1' },
  { label: 'æ ‡ç­¾2', value: 'tab2' },
  { label: 'æ ‡ç­¾3', value: 'tab3' }
];

const handleChange = (value: string | number | null) => {
  changeCount.value++;
  console.log('change äº‹ä»¶è§¦å‘ï¼Œå½“å‰å€¼:', value);
};

// å®Œæ•´ç¤ºä¾‹
const completeActiveTab = ref<string | number | null>('general');
const completeOptions: TabOption[] = [
  { label: 'é€šç”¨è®¾ç½®', value: 'general' },
  { label: 'è´¦æˆ·è®¾ç½®', value: 'account' },
  { label: 'å®‰å…¨è®¾ç½®', value: 'security' },
  { label: 'éšç§è®¾ç½®', value: 'privacy' }
];
</script>

<style scoped lang="scss">
@import './demo-common.scss';

// ç»„ä»¶ç‰¹å®šæ ·å¼
.demo-value p:last-child {
  margin-bottom: 0;
}

.demo-tab-content {
  margin-top: 16px;
  padding: 16px;
  background: rgba(128, 128, 128, 0.05);
  border-radius: 4px;
  min-height: 60px;
}

.demo-tab-content h5 {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-weight: 600;
  color: var(--sl-color-text);
}

.demo-tab-content p {
  margin: 0;
  font-size: 13px;
  color: var(--sl-color-text-accent);
}
</style>
